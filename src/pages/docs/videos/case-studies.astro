---
import Layout from '../../../layouts/Layout.astro';
import VideoCard from '../../../components/VideoCard.astro';
import ContentGate from '../../../components/ContentGate';

const videos = [
  {
    title: 'Case Study Review - Joshua McKenzie, Sr. Product Designer',
    timestamp: 'January 6, 2024',
    duration: '41:39',
    thumbnailUrl: 'https://img.youtube.com/vi/eJ7ZRUGdUCk/maxresdefault.jpg',
    href: 'https://youtu.be/eJ7ZRUGdUCk'
  },
];

const [featuredVideo, ...otherVideos] = videos;
const title = "Design Case Studies";
const description = "Watch in-depth design case studies from experienced product designers. Learn from real-world projects, design decisions, and outcomes that shape successful products.";

// Prepare structured data for videos
const structuredData = {
  "@context": "https://schema.org",
  "@type": "ItemList",
  "itemListElement": videos.map((video, index) => ({
    "@type": "VideoObject",
    "position": index + 1,
    "name": video.title,
    "description": description,
    "thumbnailUrl": video.thumbnailUrl,
    "uploadDate": video.timestamp,
    "duration": video.duration,
    "url": video.href
  }))
};
---

<Layout 
  title={title}
  description={description}
  type="video"
  image={videos[0].thumbnailUrl}
>
  <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
  
  <main class="py-8 sm:px-6 lg:px-8">
    <ContentGate client:load threshold={40}>
      <article class="max-w-[680px] mx-auto px-4 sm:px-0">
        <div class="mb-8">
          <h1 class="text-[32px] font-semibold text-[#1a1f36] tracking-[-0.4px]">{title}</h1>
          <p class="mt-2 text-[15px] text-[#3c4257]">Explore real-world design projects and their outcomes through detailed case studies.</p>
        </div>

        <!-- Featured Video -->
        <div class="mb-8">
          <VideoCard {...featuredVideo} />
        </div>

        <!-- Other Videos Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          {otherVideos.map(video => (
            <VideoCard {...video} />
          ))}
        </div>
      </article>
    </ContentGate>
  </main>
</Layout>
